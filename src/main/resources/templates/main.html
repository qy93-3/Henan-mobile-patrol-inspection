<!DOCTYPE html>
<html lang="zh" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!--360浏览器优先以webkit内核解析-->
    <title>豆豆介绍</title>
    <link rel="shortcut icon" href="favicon.ico">
    <link href="../static/css/bootstrap.min.css" th:href="@{/css/bootstrap.min.css}" rel="stylesheet"/>
    <link href="../static/css/font-awesome.min.css" th:href="@{/css/font-awesome.min.css}" rel="stylesheet"/>
    <link href="../static/css/main/animate.min.css" th:href="@{/css/main/animate.min.css}" rel="stylesheet"/>
    <link href="../static/css/main/style.min862f.css" th:href="@{/css/main/style.min862f.css}" rel="stylesheet"/>
    <script th:src="@{/js/jquery.min.js}"></script>
    <script th:src="@{/js/bootstrap.min.js}"></script>
    <script type="text/javascript" src="http://echarts.baidu.com/gallery/vendors/echarts/echarts.min.js"></script>
    <script type="text/javascript" src="http://echarts.baidu.com/gallery/vendors/echarts-gl/echarts-gl.min.js"></script>
    <script type="text/javascript" src="http://echarts.baidu.com/gallery/vendors/echarts-stat/ecStat.min.js"></script>
    <script type="text/javascript" src="http://echarts.baidu.com/gallery/vendors/echarts/extension/dataTool.min.js"></script>
    <script type="text/javascript" src="http://echarts.baidu.com/gallery/vendors/simplex.js"></script>
</head>

<body class="gray-bg">


<!-- 选项卡菜单-->
<ul id="myTab" class="nav nav-tabs" role="tablist">
    <li class="active"><a href="#stagnationPC" role="tab" data-toggle="tab">总资源点</a></li>
    <li><a href="#rule" role="tab" data-toggle="tab">资源点详情</a></li>

</ul>
<!-- 选项卡面板 -->
<div id="myTabContent" class="tab-content">
    <div class="tab-pane active" id="stagnationPC" style="height: 500px">
        <div id="container" style="height: 100%;"></div>
    </div>
    <div class="tab-pane " id="rule">
        <div class="form-group">
            <div class=" col-sm-4">
                <select class="form-control col-sm-6" name="stagnationId">
                    <option th:each="pc : ${stagnationPCList}" th:value="${pc.stagnationId}" th:text="${pc.stagnationPname}"></option>
                </select>

            </div>
            <button class="btn-primary btn-sm">查询</button>
        </div>

    </div>
    <div id='line' style="height:500px;border:1px solid #ccc;padding:10px;"></div>
</div>


</body>
<script th:inline="javascript">
    var myChart = echarts.init(document.getElementById('container'));
    $.get("/system/stagnationCount/stagnationPC").done(
        function(data) {
            var textArray = new Array();
            var valueArray = new Array();
            $.each(data, function(i, n) {
              /*  console.log(n.stagnationPname)*/
                textArray.push(n.stagnationPname)
                valueArray.push(n.spCount)
            })

            // 指定图表的配置项和数据
            myChart.setOption({
                 title : {
                    text : '省公司总资源点数'
                },
                tooltip: {
                    trigger: 'axis',
                    axisPointer: {
                        type: 'shadow'
                    }
                },
                legend : {
                    data : [ '资源点数' ]
                },
                grid: {
                    left: '3%',
                    right: '4%',
                    bottom: '3%',
                    containLabel: true
                },
                xAxis : {
                    type: 'value',
                    boundaryGap: [0, 0.01]
                },
                yAxis : {
                    data : textArray
                },
                series : [ {
                    name : '资源点数',
                    type : 'bar',
                    data : valueArray
                } ]
            });
        });
</script>
</html>
